
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Datasets &#8212; Ethically 0.0.3 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Classification Fairness" href="fairness.html" />
    <link rel="prev" title="Ethically" href="index.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="module-ethically.dataset">
<span id="datasets"></span><h1>Datasets<a class="headerlink" href="#module-ethically.dataset" title="Permalink to this headline">¶</a></h1>
<p>Collection of common benchmark datasets from fairness research.</p>
<p>Each dataset object contains a <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> as <cite>df</cite> attribute
that holds the actual data.
The dataset object will take care of loading, preprocessing
and validating the data.
The preprocessing is done by standard practices that are associated with
this data set: from its manual (e.g., README)
or as other did in the literature.</p>
<p>See <a class="reference internal" href="#ethically.dataset.Dataset" title="ethically.dataset.Dataset"><code class="xref py py-class docutils literal notranslate"><span class="pre">ethically.dataset.Dataset</span></code></a>
for additional attribute and complete documentation.</p>
<p>Currently these are the available datasets:</p>
<blockquote>
<div><ul class="simple">
<li>ProPublica recidivism/COMPAS dataset,
see: <a class="reference internal" href="#ethically.dataset.COMPASDataset" title="ethically.dataset.COMPASDataset"><code class="xref py py-class docutils literal notranslate"><span class="pre">COMPASDataset</span></code></a></li>
<li>Adult dataset,
see: <a class="reference internal" href="#ethically.dataset.AdultDataset" title="ethically.dataset.AdultDataset"><code class="xref py py-class docutils literal notranslate"><span class="pre">AdultDataset</span></code></a></li>
<li>German credit dataset,
see: <a class="reference internal" href="#ethically.dataset.GermanDataset" title="ethically.dataset.GermanDataset"><code class="xref py py-class docutils literal notranslate"><span class="pre">GermanDataset</span></code></a></li>
<li>FICO credit score dataset,
see <a class="reference internal" href="#ethically.dataset.build_FICO_dataset" title="ethically.dataset.build_FICO_dataset"><code class="xref py py-func docutils literal notranslate"><span class="pre">build_FICO_dataset()</span></code></a></li>
</ul>
</div></blockquote>
<div class="section" id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ethically.dataset</span> <span class="k">import</span> <span class="n">COMPASDataset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">compas_ds</span> <span class="o">=</span> <span class="n">COMPASDataset</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">compas_ds</span><span class="p">)</span>
<span class="go">&lt;ProPublica Recidivism/COMPAS Dataset. 6172 rows, 56 columns in</span>
<span class="go">which {race, sex} are sensitive attributes&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">compas_ds</span><span class="o">.</span><span class="n">df</span><span class="p">)</span>
<span class="go">&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">compas_ds</span><span class="o">.</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;race&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
<span class="go">African-American    3175</span>
<span class="go">Caucasian           2103</span>
<span class="go">Hispanic             509</span>
<span class="go">Other                343</span>
<span class="go">Asian                 31</span>
<span class="go">Native American       11</span>
<span class="go">Name: race, dtype: int64</span>
</pre></div>
</div>
</div>
<div class="section" id="general-datasets">
<h2>General Datasets<a class="headerlink" href="#general-datasets" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ethically.dataset.Dataset">
<em class="property">class </em><code class="descclassname">ethically.dataset.</code><code class="descname">Dataset</code><span class="sig-paren">(</span><em>target</em>, <em>sensitive_attributes</em>, <em>prediction=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ethically/dataset/core.html#Dataset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ethically.dataset.Dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/abc.html#abc.ABC" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></a></p>
<p>Base class for datasets.</p>
<dl class="docutils">
<dt>Attributes</dt>
<dd><ul class="first last simple">
<li><cite>df</cite> - <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v0.24.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> that holds the actual data.</li>
<li><dl class="first docutils">
<dt><cite>target</cite> - Column name of the variable to predict</dt>
<dd>(ground truth)</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><cite>sensitive_attributes</cite> - Column name of the</dt>
<dd>sensitive attributes</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><cite>prediction</cite> - Columns name of the</dt>
<dd>prediction (optional)</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="available-datasets">
<h2>Available Datasets<a class="headerlink" href="#available-datasets" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ethically.dataset.COMPASDataset">
<em class="property">class </em><code class="descclassname">ethically.dataset.</code><code class="descname">COMPASDataset</code><a class="reference internal" href="_modules/ethically/dataset/compas.html#COMPASDataset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ethically.dataset.COMPASDataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">ethically.dataset.core.Dataset</span></code></p>
<p>ProPublica Recidivism/COMPAS Dataset.</p>
<p>See <a class="reference internal" href="#ethically.dataset.Dataset" title="ethically.dataset.Dataset"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dataset</span></code></a> for a description of
the arguments and attributes.</p>
<dl class="docutils">
<dt>References:</dt>
<dd><a class="reference external" href="https://github.com/propublica/compas-analysis">https://github.com/propublica/compas-analysis</a></dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="ethically.dataset.AdultDataset">
<em class="property">class </em><code class="descclassname">ethically.dataset.</code><code class="descname">AdultDataset</code><a class="reference internal" href="_modules/ethically/dataset/adult.html#AdultDataset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ethically.dataset.AdultDataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">ethically.dataset.core.Dataset</span></code></p>
<p>Adult Dataset.</p>
<p>See <a class="reference internal" href="#ethically.dataset.Dataset" title="ethically.dataset.Dataset"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dataset</span></code></a> for a description of
the arguments and attributes.</p>
<dl class="docutils">
<dt>References:</dt>
<dd><a class="reference external" href="https://archive.ics.uci.edu/ml/datasets/adult">https://archive.ics.uci.edu/ml/datasets/adult</a></dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="ethically.dataset.GermanDataset">
<em class="property">class </em><code class="descclassname">ethically.dataset.</code><code class="descname">GermanDataset</code><a class="reference internal" href="_modules/ethically/dataset/german.html#GermanDataset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ethically.dataset.GermanDataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">ethically.dataset.core.Dataset</span></code></p>
<p>German Credit Dataset.</p>
<p>See <a class="reference internal" href="#ethically.dataset.Dataset" title="ethically.dataset.Dataset"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dataset</span></code></a> for a description of
the arguments and attributes.</p>
<dl class="docutils">
<dt>References:</dt>
<dd><ul class="first last simple">
<li><a class="reference external" href="https://archive.ics.uci.edu/ml/datasets/statlog+(german+credit+data">https://archive.ics.uci.edu/ml/datasets/statlog+(german+credit+data</a>)</li>
<li>Kamiran, F., &amp; Calders, T. (2009, February).
Classifying without discriminating.
In 2009 2nd International Conference on Computer, Control
and Communication (pp. 1-6). IEEE.
<a class="reference external" href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.182.6067&amp;rep=rep1&amp;type=pdf">http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.182.6067&amp;rep=rep1&amp;type=pdf</a></li>
</ul>
</dd>
<dt>Extra</dt>
<dd><p class="first">This dataset requires use of a cost matrix (see below)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>   <span class="mi">1</span> <span class="mi">2</span>
   <span class="o">----</span>
<span class="mi">1</span> <span class="o">|</span> <span class="mi">0</span> <span class="mi">1</span>
  <span class="o">|----</span>
<span class="mi">2</span> <span class="o">|</span> <span class="mi">5</span> <span class="mi">0</span>
</pre></div>
</div>
<p>(1 = Good, 2 = Bad)</p>
<p class="last">The rows represent the actual classification
and the columns the predicted classification.
It is worse to class a customer as good when they are bad (5),
than it is to class a customer as bad when they are good (1).</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="fico-dataset">
<h2>FICO Dataset<a class="headerlink" href="#fico-dataset" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="ethically.dataset.build_FICO_dataset">
<code class="descclassname">ethically.dataset.</code><code class="descname">build_FICO_dataset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ethically/dataset/fico.html#build_FICO_dataset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ethically.dataset.build_FICO_dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Build the FICO dataset.</p>
<p>Dataset of the credit score of TransUnion (called TransRisk).
The TransRisk score is in turn based on
a proprietary model created by FICO,
hence often referred to as FICO scores.</p>
<p>The data is <em>aggregated</em>, i.e., there is no outcome
and prediction information per individual,
but summarized statistics for each FICO score
and race/race/ethnicity group.</p>
<table border="1" class="docutils">
<colgroup>
<col width="22%" />
<col width="78%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">FICO key</th>
<th class="head">Meaning</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><cite>totals</cite></td>
<td>Number of individuals per group</td>
</tr>
<tr class="row-odd"><td><cite>cdf</cite></td>
<td>Cumulative distribution function of score per group</td>
</tr>
<tr class="row-even"><td><cite>pdf</cite></td>
<td>Probability distribution function of score per group</td>
</tr>
<tr class="row-odd"><td><cite>performance</cite></td>
<td>Fraction of non-defaulters per score and group</td>
</tr>
<tr class="row-even"><td><cite>base_rates</cite></td>
<td>Base rate of non-defaulters per group</td>
</tr>
<tr class="row-odd"><td><cite>base_rate</cite></td>
<td>The overall base rate non-defaulters</td>
</tr>
<tr class="row-even"><td><cite>proportions</cite></td>
<td>Fraction of individuals per group</td>
</tr>
<tr class="row-odd"><td><cite>fpr</cite></td>
<td>True Positive Rate by score as threshold per group</td>
</tr>
<tr class="row-even"><td><cite>tpr</cite></td>
<td>False Positive Rate by score as threshold per group</td>
</tr>
<tr class="row-odd"><td><cite>rocs</cite></td>
<td>ROC per group</td>
</tr>
<tr class="row-even"><td><cite>aucs</cite></td>
<td>ROC AUC per group</td>
</tr>
</tbody>
</table>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Dictionary of various aggregated statics
of the FICO credit score.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)">dict</a></td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>References:</dt>
<dd><ul class="first last simple">
<li>Based on code (MIT License) by Moritz Hardt
from <a class="reference external" href="https://github.com/fairmlbook/fairmlbook.github.io">https://github.com/fairmlbook/fairmlbook.github.io</a></li>
<li><a class="reference external" href="https://fairmlbook.org/demographic.html#case-study-credit-scoring">https://fairmlbook.org/demographic.html#case-study-credit-scoring</a></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Ethically</a></h1>






<p>
<iframe src="https://ghbtns.com/github-btn.html?user=EthicallyAI&repo=ethically&type=star&v=2&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Datasets</a></li>
<li class="toctree-l1"><a class="reference internal" href="fairness.html">Classification Fairness</a></li>
<li class="toctree-l1"><a class="reference internal" href="words-embedding-bias.html">Words Embedding Bias</a></li>
<li class="toctree-l1"><a class="reference internal" href="demos.html">Demos</a></li>
<li class="toctree-l1"><a class="reference internal" href="about/contributing.html">For Contributors</a></li>
<li class="toctree-l1"><a class="reference internal" href="about/changelog.html">Revision History</a></li>
<li class="toctree-l1"><a class="reference internal" href="about/license.html">License</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="index.html" title="previous chapter">Ethically</a></li>
      <li>Next: <a href="fairness.html" title="next chapter">Classification Fairness</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, Shlomi Hod.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.11</a>
      
      |
      <a href="_sources/dataset.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    
    <a href="https://github.com/EthicallyAI/ethically" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
  </body>
</html>